--
-- Script was generated by Devart dbForge Studio for MySQL, Version 7.2.78.0
-- Product home page: http://www.devart.com/dbforge/mysql/studio
-- Script date 10/9/2018 13:20:17
-- Server version: 5.5.5-10.1.30-MariaDB
-- Client version: 4.1
--


-- 
-- Disable foreign keys
-- 
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;

-- 
-- Set SQL mode
-- 
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='NO_AUTO_VALUE_ON_ZERO' */;

-- 
-- Set character set the client will use to send SQL statements to the server
--
SET NAMES 'utf8';

-- 
-- Set default database
--
USE pasteleria;

--
-- Definition for table cliente
--
DROP TABLE IF EXISTS cliente;
CREATE TABLE cliente (
  NIT VARCHAR(11) NOT NULL,
  nombreCliente VARCHAR(50) DEFAULT NULL,
  PRIMARY KEY (NIT)
)
ENGINE = INNODB
AVG_ROW_LENGTH = 16384
CHARACTER SET utf8
COLLATE utf8_general_ci;

--
-- Definition for table empleado
--
DROP TABLE IF EXISTS empleado;
CREATE TABLE empleado (
  CI VARCHAR(20) NOT NULL,
  nombreEmpleado VARCHAR(50) DEFAULT NULL,
  telefonoEmpleado INT(11) DEFAULT NULL,
  direccionEmpleado VARCHAR(50) DEFAULT NULL,
  PRIMARY KEY (CI)
)
ENGINE = INNODB
AVG_ROW_LENGTH = 16384
CHARACTER SET utf8
COLLATE utf8_general_ci;

--
-- Definition for table inventario
--
DROP TABLE IF EXISTS inventario;
CREATE TABLE inventario (
  codigoInventario INT(11) UNSIGNED NOT NULL AUTO_INCREMENT,
  nombre VARCHAR(50) DEFAULT NULL,
  unidad VARCHAR(50) DEFAULT NULL,
  cantidad DOUBLE DEFAULT NULL,
  PRIMARY KEY (codigoInventario)
)
ENGINE = INNODB
AUTO_INCREMENT = 10
AVG_ROW_LENGTH = 1820
CHARACTER SET utf8
COLLATE utf8_general_ci;

--
-- Definition for table producto
--
DROP TABLE IF EXISTS producto;
CREATE TABLE producto (
  codigoProducto INT(11) UNSIGNED ZEROFILL NOT NULL AUTO_INCREMENT,
  nombre VARCHAR(50) DEFAULT NULL,
  fechaVencimiento DATE DEFAULT NULL,
  stock INT(11) DEFAULT NULL,
  PRIMARY KEY (codigoProducto)
)
ENGINE = INNODB
AUTO_INCREMENT = 5
AVG_ROW_LENGTH = 4096
CHARACTER SET utf8
COLLATE utf8_general_ci;

--
-- Definition for table proveedor
--
DROP TABLE IF EXISTS proveedor;
CREATE TABLE proveedor (
  codigoProveedor INT(11) UNSIGNED NOT NULL AUTO_INCREMENT,
  nombre VARCHAR(50) DEFAULT NULL,
  empresa VARCHAR(50) DEFAULT NULL,
  telefono INT(11) DEFAULT NULL,
  PRIMARY KEY (codigoProveedor)
)
ENGINE = INNODB
AUTO_INCREMENT = 7
AVG_ROW_LENGTH = 2730
CHARACTER SET utf8
COLLATE utf8_general_ci;

--
-- Definition for table compra
--
DROP TABLE IF EXISTS compra;
CREATE TABLE compra (
  codigoProveedor INT(11) UNSIGNED NOT NULL,
  codigoInventario INT(11) UNSIGNED NOT NULL,
  precio DOUBLE DEFAULT NULL,
  cantidad DOUBLE DEFAULT NULL,
  fecha DATE DEFAULT NULL,
  fechaVencimiento DATE DEFAULT NULL,
  PRIMARY KEY (codigoProveedor, codigoInventario),
  CONSTRAINT compra_ibfk_1 FOREIGN KEY (codigoInventario)
    REFERENCES inventario(codigoInventario) ON DELETE NO ACTION ON UPDATE RESTRICT,
  CONSTRAINT compra_ibfk_2 FOREIGN KEY (codigoProveedor)
    REFERENCES proveedor(codigoProveedor) ON DELETE RESTRICT ON UPDATE RESTRICT
)
ENGINE = INNODB
CHARACTER SET utf8
COLLATE utf8_general_ci;

--
-- Definition for table produccion
--
DROP TABLE IF EXISTS produccion;
CREATE TABLE produccion (
  codigoProducto INT(11) UNSIGNED ZEROFILL NOT NULL,
  cantidad INT(11) DEFAULT NULL,
  fecha DATE NOT NULL,
  descripcion VARCHAR(85) DEFAULT NULL,
  PRIMARY KEY (codigoProducto),
  INDEX codigoProducto (codigoProducto),
  INDEX fecha (fecha),
  CONSTRAINT produccion_ibfk_1 FOREIGN KEY (codigoProducto)
    REFERENCES producto(codigoProducto) ON DELETE NO ACTION ON UPDATE NO ACTION
)
ENGINE = INNODB
AVG_ROW_LENGTH = 8192
CHARACTER SET utf8
COLLATE utf8_general_ci;

--
-- Definition for table receta
--
DROP TABLE IF EXISTS receta;
CREATE TABLE receta (
  codigoProducto INT(11) UNSIGNED NOT NULL,
  codigoInventario INT(11) UNSIGNED NOT NULL,
  cantidad DOUBLE DEFAULT NULL,
  PRIMARY KEY (codigoProducto, codigoInventario),
  INDEX codigoInventario (codigoInventario),
  INDEX codigoProducto (codigoProducto),
  CONSTRAINT receta_ibfk_1 FOREIGN KEY (codigoProducto)
    REFERENCES producto(codigoProducto) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT receta_ibfk_2 FOREIGN KEY (codigoInventario)
    REFERENCES inventario(codigoInventario) ON DELETE RESTRICT ON UPDATE RESTRICT
)
ENGINE = INNODB
AVG_ROW_LENGTH = 2048
CHARACTER SET utf8
COLLATE utf8_general_ci;

--
-- Definition for table venta
--
DROP TABLE IF EXISTS venta;
CREATE TABLE venta (
  codigoVenta INT(11) UNSIGNED NOT NULL AUTO_INCREMENT,
  Fecha DATE DEFAULT NULL,
  NIT VARCHAR(11) DEFAULT NULL,
  CI VARCHAR(20) DEFAULT NULL,
  PRIMARY KEY (codigoVenta),
  CONSTRAINT FK_venta_cliente_NIT FOREIGN KEY (NIT)
    REFERENCES cliente(NIT) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT FK_venta_empleado_CI FOREIGN KEY (CI)
    REFERENCES empleado(CI) ON DELETE CASCADE ON UPDATE CASCADE
)
ENGINE = INNODB
AUTO_INCREMENT = 2
CHARACTER SET utf8
COLLATE utf8_general_ci;

--
-- Definition for table detalleventas
--
DROP TABLE IF EXISTS detalleventas;
CREATE TABLE detalleventas (
  codigoVenta INT(11) UNSIGNED NOT NULL AUTO_INCREMENT,
  codigoProducto INT(11) UNSIGNED NOT NULL,
  precio DOUBLE DEFAULT NULL,
  cantidad INT(11) DEFAULT NULL,
  PRIMARY KEY (codigoVenta, codigoProducto),
  CONSTRAINT detalleventa_ibfk_2 FOREIGN KEY (codigoVenta)
    REFERENCES venta(codigoVenta) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT detalleventas_ibfk_1 FOREIGN KEY (codigoProducto)
    REFERENCES producto(codigoProducto) ON DELETE RESTRICT ON UPDATE RESTRICT
)
ENGINE = INNODB
AUTO_INCREMENT = 2
CHARACTER SET utf8
COLLATE utf8_general_ci;

-- 
-- Dumping data for table cliente
--
INSERT INTO cliente VALUES
('4430659010', 'Fernandez');

-- 
-- Dumping data for table empleado
--
INSERT INTO empleado VALUES
('2320144', 'Sergio Rodriguez', 75648936, 'Avenida Santa Cruz');

-- 
-- Dumping data for table inventario
--
INSERT INTO inventario VALUES
(1, 'Huevo', 'Unidad', 3),
(2, 'Harina', 'Gramos', 220.5),
(3, 'Leche', 'Litros', 0.5),
(4, 'Azucar', 'Gramos', 125),
(5, 'Crema de Leche', 'Litros', 750),
(6, 'Chocolate Blanco', 'Barras', 1),
(7, 'Chocolate Negro', 'Barras', 1.5),
(8, 'Cocoa en Polvo', 'Gramos', 112.75),
(9, 'Cherry', 'Unidad', 123);

-- 
-- Dumping data for table producto
--
INSERT INTO producto VALUES
(00000000001, 'Selva Negra', '2018-11-01', 4),
(00000000002, 'Choco Frutilla', '2018-11-01', 3),
(00000000003, 'Caribeña', '2018-11-01', 3),
(00000000004, 'Pie de Manzana', '2018-11-01', 4);

-- 
-- Dumping data for table proveedor
--
INSERT INTO proveedor VALUES
(1, 'Eliana Solis', 'Avicola Rolon', 44287202),
(2, 'Sofia Vergara', 'Pil', 44756932),
(3, 'Carlos Antezana', 'Princesa', 44741286),
(4, 'Martin Parraga', 'Guabira', 44719548),
(5, 'Paola Zanabria', 'Ceibo', 44953614),
(6, 'Maria Veneros', 'Tropical', 44558103);

-- 
-- Dumping data for table compra
--
INSERT INTO compra VALUES
(1, 1, 230, 100, '2018-09-10', '2018-09-19');

-- 
-- Dumping data for table produccion
--
INSERT INTO produccion VALUES
(00000000001, 6, '2018-09-10', 'Torta de Chocolate con relleno de Cherrys para 30 personas'),
(00000000002, 5, '2018-09-10', 'Torta de Chocolate con relleno de Frutilla para 30 personas');

-- 
-- Dumping data for table receta
--
INSERT INTO receta VALUES
(1, 1, 1),
(1, 2, 1),
(1, 3, 1),
(1, 4, 1),
(1, 5, 1),
(1, 7, 1),
(1, 8, 1),
(1, 9, 1);

-- 
-- Dumping data for table venta
--
INSERT INTO venta VALUES
(1, '2018-09-12', '4430659010', '2320144');

-- 
-- Dumping data for table detalleventas
--
INSERT INTO detalleventas VALUES
(1, 1, 192.5, 1);

-- 
-- Restore previous SQL mode
-- 
/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;

-- 
-- Enable foreign keys
-- 
/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;